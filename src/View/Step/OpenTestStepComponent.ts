import { Component, OnInit } from "@angular/core";
import { Input } from "@angular/core/src/metadata/directives";
import { Step } from "Service/Fals/Entities/Step";
import { StepService } from "Service/CourseLogic/StepService";
import { CourseService } from "Service/CourseLogic/CourseService";
import { Course } from "Service/Fals/Entities/Course";
import { OpenTestStep } from "Service/Fals/Entities/OpenTestStep";
import { StepAnswer } from "Service/Fals/Entities/StepAnswer";

@Component({
  selector: "openTestStep",
  templateUrl: "View/Step/OpenTestStep.html",
})
export class OpenTestStepComponent implements OnInit {
  @Input() Step: OpenTestStep;

  Answer: string;

  constructor(
    private StepService: StepService,
    private CourseService: CourseService
  ) {}

  tryProceed() {
    let result = new StepAnswer();
    result.module = this.CourseService.CurrentCourseState.value.currentModule;
    result.step = this.Step;
    result.course = this.CourseService.CurrentCourseState.value.course;
    result.value = this.Answer.toString();
    this.StepService.SubmitStepResult(result);
  }

  ngOnInit() {}
}
